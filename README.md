![Splash screen](https://i.imgur.com/yn7YYdE.jpg)
## Disclaimer
This project is a fan continuation of a project created and developed by koki_thlal/Technodot, but is not affiliated with or in contact with the above in any way.

Additionally, out of respect to the copyright holders of originally-referenced material, many assets have been replaced with placeholders.

While older or alternate versions exist using the original `ShaGResource.tcd` and `ShaGPattern.tcd` files, this repository will only maintain the placeholder resources, which can be used to overwrite the above files to replace the graphics.

# ShanghaiEXE
Shanghai.EXE was a fangame inspired by Touhou and Megaman Battle Network.

Then the original developer got a C&D from Capcom and shut everything down, just before it was completed.

Luckily, someone leaked a donor-wall demo build, and the whole thing was made in C#, which meant it could be decompiled.

This is a modified/translated version of that demo build, re-implementing teased content and planning to finish the game, fixing bugs along the way.

The end goal is to complete the game, including postgame areas/bosses, sidequests/bosses, and netplay.

## Map Editor
![Editor](https://i.imgur.com/UKmk3E5.png)
The map/script files in the `data/` folder define the overworld portion of the game, including the story, cutscenes, and most events.

The map editor is a user-friendly GUI to modify those map files and should be capable of recreating any existing maps from scratch, or creating any new maps needed to finish the game.

The editor also includes utilities to pack/unpack the game resources, and an editor/previewer for ingame text.

## Note to developers

Visual Studio 2017 is required to compile the project due to the C# 7 syntax generated by decompilation.

Additionally, the C++ development environment must be installed for Visual Studio in order for freetype6.dll to be copied to the output directory.

## Latest Release (0.503e4, 1/4/20)

### Changelog:
- New content from demo end (before penultimate boss) to beginning of post-game
- Final dungeon boss (+ chips, ghost)
- Final boss (already implemented)
- Cutscenes, credits, and epilogue start
- Epilogue flavor NPCs
- Fixed minor graphical glitches/jitter
- Fixed fullscreen mode for OpenGL
- Fixed various postgame NPCs appearing before postgame
- Fixed Yuyuko crash on heavy+sand
- Fixed Hospital event BGM override
- Fixed shaking if skipping during cutscene
- Changed object cleanup from Render to Update loops, fixing possible issues w/ turbo
- Modified logos/labels to distance from original creator
- Re-added chip icons for new illegal chip ShellHoc

### Release plans (No release dates):
- Few/no repo updates until next major release either on remaining repos or as a dropped download link
    - More regular updates following release for bugfixing, etc. then again sporadic updates until next release

- **0.55**: First half of postgame (first postgame area), miscellaneous fixes and cleanup
    - Flesh out dead areas, retcon duplicate addons/chips
    - Some PA work for navi chips missing PAs
- **0.60**: Second half of postgame (second postgame area), secret bosses
    - Requires much more new content to be implemented
- **0.65**: Last request with actual reference material, minidungeon, (already-implemented) boss fight
- **0.70+**: Additional requests to implement bosses that have some teased chip art
- eventually: netplay

#### In Progress (as of 8/27/20):
- Rework of overworld rendering system to fix render order issues
- Implementation of postgame area 1 completion cutscene
- Implementation of special battles/enemies
- Implementation of rewards


##### Completed:
- First draft of story/dialogue/cutscenes
- Fleshing out of empty areas during postgame, BBS, unadded SP viruses
- Retcon system to fix savegames from previous versions
- Reworked Library page for potential issues with chip IDs, PAs
- Reworked PA system for potential issues adding new PAs
- Minor balancing of DruidMan, minor difficulty increase for stunlocking
- Events, cutscenes up to midway point of first postgame area
- Moved some constant data out to external files so map editor can edit (data/data/*.xml)
- Added editors for external data
- Added music player, audio engine to map editor for bgm/sound effects
- Added contents, basic cutscenes for postgame area 1